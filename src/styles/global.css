@import "@fontsource-variable/bricolage-grotesque/standard.css";
@import "./tw.css";

:root {
  --grid-size: 5rem;
  --grid-offset-x: 0px;
  --grid-offset-y: 0px;

  --grid-color: var(--color-grey-100);
  --grid-bg-color: var(--color-grey-50);
}

/*-----------------------------------
  Base body styles
-----------------------------------*/
body {
  padding: calc(8 * var(--spacing));
  overflow-x: hidden;
  scroll-behavior: smooth;
  position: relative;
  color: inherit;

  /* Background layers: noise (top), grid Y, grid X */
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' seed='2'/></filter><rect width='100%' height='100%' filter='url(%23n)'/></svg>");
  background-size:
    auto,
    var(--grid-size) var(--grid-size),
    var(--grid-size) var(--grid-size);
  background-position:
    0 0,
    var(--grid-offset-x) var(--grid-offset-y),
    var(--grid-offset-x) var(--grid-offset-y);
  background-repeat: repeat, repeat, repeat;
  background-blend-mode: multiply, normal, normal;
  background-color: var(--grid-bg-color);
}

.dark body {
  background-image:
    linear-gradient(
      0deg,
      transparent 24%,
      var(--grid-color) 25%,
      var(--grid-color) 26%,
      transparent 27%,
      transparent 74%,
      var(--grid-color) 75%,
      var(--grid-color) 76%,
      transparent 77%,
      transparent
    ),
    linear-gradient(
      90deg,
      transparent 24%,
      var(--grid-color) 25%,
      var(--grid-color) 26%,
      transparent 27%,
      transparent 74%,
      var(--grid-color) 75%,
      var(--grid-color) 76%,
      transparent 77%,
      transparent
    );
}

/*-----------------------------------
  Radial overlay
-----------------------------------*/
body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -49;
  background: radial-gradient(
    circle at center,
    var(--grid-bg-color),
    oklch(from var(--grid-bg-color) l c h / 0.5) 70%
  );
  pointer-events: none;
}

/*-----------------------------------
  Dark mode overrides
-----------------------------------*/
body.dark,
.dark body {
  --grid-color: oklch(from var(--color-grey-900) l c h / 50%);
  --grid-bg-color: var(--color-grey-950);
  color: white;

  /* Remove noise layer in dark mode; keep grid */
  background-image:
    linear-gradient(
      0deg,
      transparent 24%,
      var(--grid-color) 25%,
      var(--grid-color) 26%,
      transparent 27%,
      transparent 74%,
      var(--grid-color) 75%,
      var(--grid-color) 76%,
      transparent 77%,
      transparent
    ),
    linear-gradient(
      90deg,
      transparent 24%,
      var(--grid-color) 25%,
      var(--grid-color) 26%,
      transparent 27%,
      transparent 74%,
      var(--grid-color) 75%,
      var(--grid-color) 76%,
      transparent 77%,
      transparent
    );
  background-size:
    var(--grid-size) var(--grid-size),
    var(--grid-size) var(--grid-size);
  background-position:
    var(--grid-offset-x) var(--grid-offset-y),
    var(--grid-offset-x) var(--grid-offset-y);
  background-repeat: repeat, repeat;
  background-blend-mode: normal, normal;
}

body.dark::after,
.dark body::after {
  background: radial-gradient(
    circle at center,
    transparent,
    oklch(from var(--grid-bg-color) l c h / 0.5) 60%
  );
}
